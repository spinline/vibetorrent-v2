{# OOB updates for a single torrent - sent via SSE for dynamic field updates #}
{# This contains only the fields that change frequently (speed, progress, status, eta) #}
{# Static fields (name, size, star) are NOT included - they don't flash! #}

{# Progress bar #}
<div id="progress-{{ torrent.hash }}" class="col-span-2 flex items-center gap-3" hx-swap-oob="true">
    <div class="flex-1 h-2 bg-bg-secondary rounded-full overflow-hidden">
        <div class="{{ torrent.progress_bar_class }} h-full rounded-full transition-all duration-300"
            style="width: {{ torrent.progress }}%"></div>
    </div>
    <span class="text-xs text-text-muted w-12 text-right">{{ torrent.progress_rounded }}%</span>
</div>
{# Status badge #}
<div id="status-{{ torrent.hash }}" class="col-span-1 flex items-center justify-center" hx-swap-oob="true">
    <span
        class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium {% if torrent.is_paused %}bg-orange-500/10 text-orange-400{% else %}{% if torrent.status == "
        Seeding" %}bg-emerald-500/10 text-emerald-400{% else %}{% if torrent.status=="Downloading" %}bg-blue-500/10
        text-blue-400{% else %}{% if torrent.status=="Hashing" %}bg-yellow-500/10 text-yellow-400{% else %}{% if
        torrent.status=="Error" %}bg-red-500/10 text-red-400{% endif %}{% endif %}{% endif %}{% endif %}{% endif %}">
        {% if torrent.is_paused %}
        <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24">
            <path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z" />
        </svg>
        {% else %}{% if torrent.status == "Seeding" %}
        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" />
        </svg>
        {% else %}{% if torrent.status == "Downloading" %}
        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
        </svg>
        {% else %}{% if torrent.status == "Error" %}
        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        {% endif %}{% endif %}{% endif %}{% endif %}
        {{ torrent.status }}
    </span>
</div>
{# Download speed #}
<div id="down-{{ torrent.hash }}" class="col-span-1 text-right text-text-muted text-xs flex items-center justify-end"
    hx-swap-oob="true">{{ torrent.down_rate }}</div>
{# Upload speed #}
<div id="up-{{ torrent.hash }}" class="col-span-1 text-right text-text-muted text-xs flex items-center justify-end"
    hx-swap-oob="true">{{ torrent.up_rate }}</div>
{# ETA #}
<span id="eta-{{ torrent.hash }}" class="text-text-muted text-xs" hx-swap-oob="true">{{ torrent.eta }}</span>